## 基础必填
# 你的钱包私钥（0x + 64 位十六进制）。强烈建议使用新钱包，仅用于本工具。
PRIVATE_KEY=0xd0e169cfa1db83c37c6e0b85eaf80c749b54aa32b48278176aee08314c5942xx
# 运行网络：mainnet（主网）| sepolia（测试网）
NETWORK=mainnet

## 通用控制（交互/自动皆可）
# 交互估算时的默认大小（KB）。自动模式请选择 AUTO_* 参数。
SIZE_KB=100
# 会话消费模式：cap=按上限预算；all=用全部余额（预留 1% 缓冲）
SPEND_MODE=cap
# 当 SPEND_MODE=cap 时的会话总预算（单位：ETH）
SPEND_CAP_ETH=0.00012
# 轮询/重试的时间间隔（秒）
CHECK_INTERVAL_SEC=60
# L1 气价上限（gwei）。当前气价高于该值则等待。
MAX_L1_GWEI=30
# 最低效率阈值（%）。估算效率低于该值则等待。
MIN_EFFICIENCY_PERCENT=90
# 单枚 FCT 成本上限（美元）。超过该值则等待。
MAX_COST_PER_FCT_USD=0.0025
# 演练模式：true=不发送真实交易，仅打印估算
DRY_RUN=false

# 文档示例：自动放宽参考倍数（策略解释用，可忽略）
RELAX_MULTIPLIER=1
# 可选：覆盖默认 L1/FACET RPC
# L1_RPC_URL=
# FACET_RPC_URL=

# 交易侧（Auto-trader 等）优先使用的 Facet RPC
RPC_URL=https://mainnet.facet.org

## 自动模式（非交互，按阈值自动挖/等待）
AUTO_MODE=true
AUTO_LOOP=true
# 自动在 KB 候选内择优（更低成本/合格效率）
AUTO_DYNAMIC_SIZE=true
# 自动选择的 KB 范围（最小/最大）。步长可通过 AUTO_SIZE_STEP_KB 配置（默认 25）。
AUTO_MIN_SIZE_KB=0.5
AUTO_MAX_SIZE_KB=1
# L1 气价乘数（1.0~1.5）。或改用 USE_NODE_GAS=true 让节点估价。
GAS_PRICE_MULTIPLIER=1
# 气价地板（gwei），避免过低导致长时间 Pending。
GAS_PRICE_FLOOR_GWEI=0.5
# 授权等待/轮询间隔（毫秒）
APPROVE_WAIT_MS=600000
ALLOWANCE_POLL_MS=2000
# 是否等待授权确认再继续
WAIT_APPROVE=true

## 动态成本闸与日志
# 启用“期望成本”的动态窗口闸（超出则等待）
DYNAMIC_COST_GATE=true
# 动态窗口宽度（例如 0.05 = +5%）
DYNAMIC_WINDOW_PCT=0.05
# 交易失败是否停止当前会话
STOP_ON_TX_FAIL=false
# 控制台清屏 / 纯文本 UI
NO_CLEAR=true
PLAIN_UI=true

## 自动卖出（Auto-trader）
# 止盈阈值（相对 WAC，如 0.12 = +12%）
TAKE_PROFIT=0.12
# 滑点（基点），200 = 2%
SLIPPAGE_BPS=200
# 每次卖出的库存比例（0~1）
CHUNK_PCT=0.2
# 最小成交数量（单位：FCT wei），示例：1 FCT
MIN_TRADE_FCT=1000000000000000000
# 轮询间隔（毫秒）
POLL_MS=30000

## 挖矿时机（时序策略；缺少索引器/JSON时使用回退参数）
USE_FCT_TIMING=true
# 进度上限（<= 该比例才挖）
MAX_PROGRESS_TO_MINE=0.30
# 剩余区块不少于该值才挖
MIN_BLOCKS_LEFT=250
# 预算折扣系数（上限回推用）
ALPHA=0.90
# RATE_FLOOR_WEI_PER_ETH=0            # 可选：速率地板（低于则等待）

# 回退：当没有 indexer/fct.fyi JSON 时使用的目标/已挖（单位：FCT wei）
TARGET_FCT_WEI=100000000000000000000000   # example: 100,000 FCT in wei
MINTED_FCT_WEI=0

## FacetSwap / DEX 地址（主网）
# 路由/交易对/代币地址（WFCT/WETH）。请按主网配置。
ROUTER=0xf29e6E319Ac4ce8C100cFC02B1702eb3D275029e
PAIR=0x180eF813f5C3C00e37b002Dfe90035A8143CE233
TOKEN_FCT=0x4200000000000000000000000000000000000006   # WFCT
TOKEN_WETH=0x1673540243E793B0e77C038D4a88448efF524DcE  # WETH
FCT_DECIMALS=18
WETH_DECIMALS=18
# （可选）覆盖路由读取到的 WETH 地址
ROUTER_WETH=0x1673540243E793B0e77C038D4a88448efF524DcE

## 流水线测试参数（小额演练）
# 小额实盘卖出（单位：FCT），0=关闭
SELL_TEST_FCT=0
# 挖矿笔数（流水线）
MINE_TXS=1
# 将原生 FCT 包裹成 WFCT 的比例（0~1）
WRAP_PCT=0.05
# 是否等待止盈（true=不立即卖，交给 auto:trade）
WAIT_FOR_TP=false

## 负载大小（KB）
# 流水线单笔大小（KB）
PER_TX_KB=25
# 干跑脚本的 KB（仅 test:mine:mainnet:dry 使用）
TEST_MINE_KB=1

## L1 气价闸（单位 gwei）
MINE_L1_GWEI_MAX=0.6
MINE_L1_CHECK_INTERVAL_SEC=60
MINE_L1_MAX_WAIT_SEC=1800
MINE_L1_BASEFEE_MAX_GWEI=0.5

## 每笔上限与 KB 范围（自动缩 KB 以落入 cap）
# 每笔手续费上限（ETH），用于自动“缩 KB”落入上限
MINE_MAX_ETH_PER_TX=0.0005
MINE_MIN_KB=1
MINE_MAX_KB=2
MINE_STEP_KB=0.5

## 自动转账（可选）
# 目标地址（Facet L2）
# TRANSFER_TO=disabled
# 转出比例（0~1），1=全部按基数
# TRANSFER_PCT=1
# 保留少量 FCT 作为后续 gas
# TRANSFER_BUFFER_FCT=0.01
# 基数：minted=本次产出；balance=当前余额
# TRANSFER_MODE=minted
# 是否每挖一笔就转出（true），否则会话结束后转一次
# TRANSFER_IMMEDIATE=true

## 策略参数（进阶）
RATE_FLOOR_WEI_PER_ETH=0   # 挖矿速率地板（低于则等待）
MAX_PROGRESS=0.30          # 进度上限
B_WAIT=40                  # 倒计时较近时的等待阈值（区块数）
U_WEAK=0.60                # 末段“较弱”判定
E_HIGH=0.90                # 接近满额的判定
EFF_DEFAULT=0.99           # 默认效率下限（0~1）
TARGET_DISCOUNT=0.20       # 目标相对市场折价（20%）
MIN_ABS_EDGE_USD=50        # 绝对价差（美元）

## 可选：新增能力（如需请取消注释并设置）
# AUTO_SIZE_STEP_KB=1           # 自动模式的 KB 步长（默认 25）
# VALUE_ETH=0.001               # 挖矿本金（ETH），发送到 Facet（非 gas）
# GWEI_MIN=10                   # 气价下限（gwei），低于不发
# GWEI_MAX=30                   # 气价上限（gwei），高于不发
# CAP_ETH=0.002                 # 预计（fee+value）超出则跳过
# GWEI_HARD_CEILING=3           # 放宽时的气价硬帽（gwei）
# MAX_CYCLE_SHARE=0.3           # 单轮最多占用比例（自动上限）
# EDGE_WARN_USD=10              # 回执复盘：edge 连续偏低的阈值（美元）
# COOLDOWN_MIN=30               # 进入冷却的分钟数

